<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Verbs Part 1: Picking and choosing | R Study Guide for Cronkite School of Journalism</title>
  <meta name="description" content="A companion book for the Cronkite School’s data journalism class for graduate students. A work in progress." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Verbs Part 1: Picking and choosing | R Study Guide for Cronkite School of Journalism" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://cronkitedata.github.io/rstudyguide" />
  
  <meta property="og:description" content="A companion book for the Cronkite School’s data journalism class for graduate students. A work in progress." />
  <meta name="github-repo" content="cronkitedata/rstudyguide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Verbs Part 1: Picking and choosing | R Study Guide for Cronkite School of Journalism" />
  
  <meta name="twitter:description" content="A companion book for the Cronkite School’s data journalism class for graduate students. A work in progress." />
  

<meta name="author" content="Sarah Cohen, Knight Chair in Journalism" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.io" type="image/x-icon" />
<link rel="prev" href="030-intro-verbs.html"/>
<link rel="next" href="033-groupby.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="mystyles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Study Guide for Cronkite Students</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#using-the-examples-with-packages"><i class="fa fa-check"></i>Using the examples with packages</a></li>
</ul></li>
<li class="part"><span><b>I Introduction to R for Journalists</b></span></li>
<li class="chapter" data-level="1" data-path="011-r-install.html"><a href="011-r-install.html"><i class="fa fa-check"></i><b>1</b> An R and R Studio tour</a>
<ul>
<li class="chapter" data-level="1.1" data-path="011-r-install.html"><a href="011-r-install.html#key-takeaways"><i class="fa fa-check"></i><b>1.1</b> Key takeaways</a></li>
<li class="chapter" data-level="1.2" data-path="011-r-install.html"><a href="011-r-install.html#why-program"><i class="fa fa-check"></i><b>1.2</b> Why program?</a></li>
<li class="chapter" data-level="1.3" data-path="011-r-install.html"><a href="011-r-install.html#setting-up-r-and-r-studio"><i class="fa fa-check"></i><b>1.3</b> Setting up R and R Studio</a></li>
<li class="chapter" data-level="1.4" data-path="011-r-install.html"><a href="011-r-install.html#an-r-studio-tour"><i class="fa fa-check"></i><b>1.4</b> An R Studio tour</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="011-r-install.html"><a href="011-r-install.html#the-console"><i class="fa fa-check"></i><b>1.4.1</b> The Console</a></li>
<li class="chapter" data-level="1.4.2" data-path="011-r-install.html"><a href="011-r-install.html#work-in-projects"><i class="fa fa-check"></i><b>1.4.2</b> Work in projects</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="011-r-install.html"><a href="011-r-install.html#unlocking-packages"><i class="fa fa-check"></i><b>1.5</b> Unlocking packages</a></li>
<li class="chapter" data-level="1.6" data-path="011-r-install.html"><a href="011-r-install.html#variables"><i class="fa fa-check"></i><b>1.6</b> Variables</a></li>
<li class="chapter" data-level="1.7" data-path="011-r-install.html"><a href="011-r-install.html#resources-and-exercises"><i class="fa fa-check"></i><b>1.7</b> Resources and exercises</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="011-r-install.html"><a href="011-r-install.html#googling-for-help"><i class="fa fa-check"></i><b>1.7.1</b> Googling for help</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="021-r-markdown.html"><a href="021-r-markdown.html"><i class="fa fa-check"></i><b>2</b> R Markdown</a>
<ul>
<li class="chapter" data-level="2.1" data-path="021-r-markdown.html"><a href="021-r-markdown.html#key-takeaways-1"><i class="fa fa-check"></i><b>2.1</b> Key takeaways</a></li>
<li class="chapter" data-level="2.2" data-path="021-r-markdown.html"><a href="021-r-markdown.html#getting-started-with-r-markdown"><i class="fa fa-check"></i><b>2.2</b> Getting started with R Markdown</a></li>
<li class="chapter" data-level="2.3" data-path="021-r-markdown.html"><a href="021-r-markdown.html#the-anatomy-of-a-document"><i class="fa fa-check"></i><b>2.3</b> The anatomy of a document</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="021-r-markdown.html"><a href="021-r-markdown.html#writing-in-markdown"><i class="fa fa-check"></i><b>2.3.1</b> Writing in markdown</a></li>
<li class="chapter" data-level="" data-path="021-r-markdown.html"><a href="021-r-markdown.html#front-matter-yaml-at-the-top"><i class="fa fa-check"></i>Front matter / YAML at the top</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="021-r-markdown.html"><a href="021-r-markdown.html#knitting-your-document"><i class="fa fa-check"></i><b>2.4</b> Knitting your document</a></li>
<li class="chapter" data-level="2.5" data-path="021-r-markdown.html"><a href="021-r-markdown.html#including-r-code-and-its-results"><i class="fa fa-check"></i><b>2.5</b> Including R code and its results</a></li>
<li class="chapter" data-level="2.6" data-path="021-r-markdown.html"><a href="021-r-markdown.html#r-markdown-starts-from-scratch"><i class="fa fa-check"></i><b>2.6</b> R Markdown starts from scratch</a></li>
<li class="chapter" data-level="2.7" data-path="021-r-markdown.html"><a href="021-r-markdown.html#rmarkdown-resources-and-exercises"><i class="fa fa-check"></i><b>2.7</b> RMarkdown resources and exercises</a>
<ul>
<li class="chapter" data-level="" data-path="021-r-markdown.html"><a href="021-r-markdown.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="021-r-markdown.html"><a href="021-r-markdown.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="021-r-markdown.html"><a href="021-r-markdown.html#bonus-styling-your-r-markdown-documents"><i class="fa fa-check"></i><b>2.8</b> Bonus: Styling your R Markdown documents</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="022-data-frames.html"><a href="022-data-frames.html"><i class="fa fa-check"></i><b>3</b> Data frames and the tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="022-data-frames.html"><a href="022-data-frames.html#key-takeaways-2"><i class="fa fa-check"></i><b>3.1</b> Key takeaways</a></li>
<li class="chapter" data-level="3.2" data-path="022-data-frames.html"><a href="022-data-frames.html#getting-started"><i class="fa fa-check"></i><b>3.2</b> Getting started</a></li>
<li class="chapter" data-level="3.3" data-path="022-data-frames.html"><a href="022-data-frames.html#the-data-frame"><i class="fa fa-check"></i><b>3.3</b> The data frame</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="022-data-frames.html"><a href="022-data-frames.html#loading-and-looking-at-data"><i class="fa fa-check"></i><b>3.3.1</b> Loading and looking at data</a></li>
<li class="chapter" data-level="3.3.2" data-path="022-data-frames.html"><a href="022-data-frames.html#examine-your-data"><i class="fa fa-check"></i><b>3.3.2</b> Examine your data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="022-data-frames.html"><a href="022-data-frames.html#introducing-the-pipe"><i class="fa fa-check"></i><b>3.4</b> Introducing the pipe</a></li>
<li class="chapter" data-level="3.5" data-path="022-data-frames.html"><a href="022-data-frames.html#take-a-break"><i class="fa fa-check"></i><b>3.5</b> Take a break</a></li>
<li class="chapter" data-level="3.6" data-path="022-data-frames.html"><a href="022-data-frames.html#data-frames-resources"><i class="fa fa-check"></i><b>3.6</b> Data frames resources</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="022-data-frames.html"><a href="022-data-frames.html#on-your-own"><i class="fa fa-check"></i><b>3.6.1</b> On your own</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II The Verbs of the Tidyverse</b></span></li>
<li class="chapter" data-level="4" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html"><i class="fa fa-check"></i><b>4</b> A quick tour of verbs</a>
<ul>
<li class="chapter" data-level="4.1" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#key-takeaways-3"><i class="fa fa-check"></i><b>4.1</b> Key takeaways</a>
<ul>
<li class="chapter" data-level="" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#data-for-this-walkthrough"><i class="fa fa-check"></i>Data for this walkthrough</a></li>
<li class="chapter" data-level="4.1.1" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#follow-along"><i class="fa fa-check"></i><b>4.1.1</b> Follow along</a></li>
<li><a href="030-intro-verbs.html#the-operator-and-then">The <code>%&gt;%</code> operator: … and then…</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#looking-at-your-data-in-pieces-and-in-order"><i class="fa fa-check"></i><b>4.2</b> Looking at your data in pieces and in order</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#select-to-pick-out-columns"><i class="fa fa-check"></i><b>4.2.1</b> <code>select</code> to pick out columns</a></li>
<li class="chapter" data-level="4.2.2" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#arrange-to-sort"><i class="fa fa-check"></i><b>4.2.2</b> <code>arrange</code> to sort</a></li>
<li class="chapter" data-level="4.2.3" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#filter-to-pick-out-rows"><i class="fa fa-check"></i><b>4.2.3</b> <code>filter</code> to pick out rows</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#group_by-and-summarise-to-count-and-sum"><i class="fa fa-check"></i><b>4.3</b> <code>group_by</code> and <code>summarise</code> to count and sum</a></li>
<li class="chapter" data-level="4.4" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#mutate-to-calculate-something-new"><i class="fa fa-check"></i><b>4.4</b> <code>mutate</code> to calculate something new</a></li>
<li class="chapter" data-level="4.5" data-path="030-intro-verbs.html"><a href="030-intro-verbs.html#join-to-merge-tables-together-by-column-union-to-add-rows"><i class="fa fa-check"></i><b>4.5</b> <code>join</code> to merge tables together by column; <code>union</code> to add rows</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="031-select-filter.html"><a href="031-select-filter.html"><i class="fa fa-check"></i><b>5</b> Verbs Part 1: Picking and choosing</a>
<ul>
<li class="chapter" data-level="5.1" data-path="031-select-filter.html"><a href="031-select-filter.html#key-takeaways-4"><i class="fa fa-check"></i><b>5.1</b> Key takeaways</a></li>
<li class="chapter" data-level="5.2" data-path="031-select-filter.html"><a href="031-select-filter.html#select---choosing-columns"><i class="fa fa-check"></i><b>5.2</b> Select - choosing columns</a>
<ul>
<li class="chapter" data-level="" data-path="031-select-filter.html"><a href="031-select-filter.html#selecting-with-shortcuts"><i class="fa fa-check"></i>Selecting with shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="031-select-filter.html"><a href="031-select-filter.html#filter---choosing-rows"><i class="fa fa-check"></i><b>5.3</b> Filter - choosing rows</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="031-select-filter.html"><a href="031-select-filter.html#one-filter"><i class="fa fa-check"></i><b>5.3.1</b> One filter</a></li>
<li class="chapter" data-level="5.3.2" data-path="031-select-filter.html"><a href="031-select-filter.html#a-compound-filter"><i class="fa fa-check"></i><b>5.3.2</b> A compound filter</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="031-select-filter.html"><a href="031-select-filter.html#arrange---change-the-order"><i class="fa fa-check"></i><b>5.4</b> Arrange - change the order</a></li>
<li class="chapter" data-level="5.5" data-path="031-select-filter.html"><a href="031-select-filter.html#troubleshooting"><i class="fa fa-check"></i><b>5.5</b> Troubleshooting</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="031-select-filter.html"><a href="031-select-filter.html#variable-not-found"><i class="fa fa-check"></i><b>5.5.1</b> Variable not found</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="031-select-filter.html"><a href="031-select-filter.html#sort-filter-resources"><i class="fa fa-check"></i><b>5.6</b> Sort / filter resources</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="031-select-filter.html"><a href="031-select-filter.html#exercises-1"><i class="fa fa-check"></i><b>5.6.1</b> Exercises</a></li>
<li class="chapter" data-level="5.6.2" data-path="031-select-filter.html"><a href="031-select-filter.html#tutorials"><i class="fa fa-check"></i><b>5.6.2</b> Tutorials</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="033-groupby.html"><a href="033-groupby.html"><i class="fa fa-check"></i><b>6</b> Verbs Part 2: group_by and summarise</a>
<ul>
<li class="chapter" data-level="6.1" data-path="033-groupby.html"><a href="033-groupby.html#key-takeaways-5"><i class="fa fa-check"></i><b>6.1</b> Key takeaways</a></li>
<li class="chapter" data-level="6.2" data-path="033-groupby.html"><a href="033-groupby.html#group_by-summarise-basics"><i class="fa fa-check"></i><b>6.2</b> group_by / summarise basics</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="033-groupby.html"><a href="033-groupby.html#other-summary-functions"><i class="fa fa-check"></i><b>6.2.1</b> Other summary functions</a></li>
<li class="chapter" data-level="6.2.2" data-path="033-groupby.html"><a href="033-groupby.html#grouping-by-more-than-one-variable"><i class="fa fa-check"></i><b>6.2.2</b> Grouping by more than one variable</a></li>
<li class="chapter" data-level="6.2.3" data-path="033-groupby.html"><a href="033-groupby.html#rolling-up-to-the-next-level"><i class="fa fa-check"></i><b>6.2.3</b> Rolling up to the next level</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="033-groupby.html"><a href="033-groupby.html#restructuring-for-a-report-with-pivot_wider"><i class="fa fa-check"></i><b>6.3</b> Restructuring for a report with <code>pivot_wider()</code></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="033-groupby.html"><a href="033-groupby.html#a-note-on-restructuring-your-data-frames"><i class="fa fa-check"></i><b>6.3.1</b> A note on restructuring your data frames</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="033-groupby.html"><a href="033-groupby.html#resources-exercises"><i class="fa fa-check"></i><b>6.4</b> Resources &amp; exercises</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="033-groupby.html"><a href="033-groupby.html#exercises-2"><i class="fa fa-check"></i><b>6.4.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="035-mutate.html"><a href="035-mutate.html"><i class="fa fa-check"></i><b>7</b> Verbs Part 3: mutate</a>
<ul>
<li class="chapter" data-level="7.1" data-path="035-mutate.html"><a href="035-mutate.html#key-takeaways-6"><i class="fa fa-check"></i><b>7.1</b> Key takeaways</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="035-mutate.html"><a href="035-mutate.html#read-in-some-data"><i class="fa fa-check"></i><b>7.1.1</b> Read in some data</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="035-mutate.html"><a href="035-mutate.html#simple-arithmetic"><i class="fa fa-check"></i><b>7.2</b> Simple arithmetic</a></li>
<li class="chapter" data-level="7.3" data-path="035-mutate.html"><a href="035-mutate.html#creating-categories-with-if_else"><i class="fa fa-check"></i><b>7.3</b> Creating categories with <code>if_else()</code></a></li>
<li class="chapter" data-level="7.4" data-path="035-mutate.html"><a href="035-mutate.html#useful-functions"><i class="fa fa-check"></i><b>7.4</b> Useful functions</a></li>
<li class="chapter" data-level="7.5" data-path="035-mutate.html"><a href="035-mutate.html#bonus-fun-with-date-and-time"><i class="fa fa-check"></i><b>7.5</b> Bonus: Fun with date and time</a></li>
<li class="chapter" data-level="7.6" data-path="035-mutate.html"><a href="035-mutate.html#more-resources"><i class="fa fa-check"></i><b>7.6</b> More resources</a>
<ul>
<li class="chapter" data-level="" data-path="035-mutate.html"><a href="035-mutate.html#tk-exercises"><i class="fa fa-check"></i>TK: Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="036-joins.html"><a href="036-joins.html"><i class="fa fa-check"></i><b>8</b> Verbs Part 4: Combining data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="036-joins.html"><a href="036-joins.html#key-takeaways-7"><i class="fa fa-check"></i><b>8.1</b> Key takeaways</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="036-joins.html"><a href="036-joins.html#adding-rows-instead-of-columns"><i class="fa fa-check"></i><b>8.1.1</b> Adding rows instead of columns</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="036-joins.html"><a href="036-joins.html#concepts-of-joining"><i class="fa fa-check"></i><b>8.2</b> Concepts of joining</a></li>
<li class="chapter" data-level="8.3" data-path="036-joins.html"><a href="036-joins.html#arizona-immunization-data"><i class="fa fa-check"></i><b>8.3</b> Arizona immunization data</a>
<ul>
<li class="chapter" data-level="" data-path="036-joins.html"><a href="036-joins.html#setting-up-the-data"><i class="fa fa-check"></i>Setting up the data</a></li>
<li class="chapter" data-level="" data-path="036-joins.html"><a href="036-joins.html#apply-the-join"><i class="fa fa-check"></i>Apply the join</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="036-joins.html"><a href="036-joins.html#resources-1"><i class="fa fa-check"></i><b>8.4</b> Resources</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="036-joins.html"><a href="036-joins.html#practice"><i class="fa fa-check"></i><b>8.4.1</b> Practice</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Graphics, data cleaning, scraping and more</b></span></li>
<li class="chapter" data-level="9" data-path="041-plotly.html"><a href="041-plotly.html"><i class="fa fa-check"></i><b>9</b> Intro to visualization in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="041-plotly.html"><a href="041-plotly.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>9.1</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="041-plotly.html"><a href="041-plotly.html#good-resources"><i class="fa fa-check"></i><b>9.1.1</b> Good resources</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="041-plotly.html"><a href="041-plotly.html#building-you-graph-in-pieces-using-gapminder"><i class="fa fa-check"></i><b>9.2</b> Building you graph in pieces using gapminder</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="041-plotly.html"><a href="041-plotly.html#subset-to-just-the-latest-years"><i class="fa fa-check"></i><b>9.2.1</b> Subset to just the latest years</a></li>
<li class="chapter" data-level="9.2.2" data-path="041-plotly.html"><a href="041-plotly.html#the-histogram"><i class="fa fa-check"></i><b>9.2.2</b> The histogram</a></li>
<li class="chapter" data-level="9.2.3" data-path="041-plotly.html"><a href="041-plotly.html#try-a-scatter-or-dot-plot"><i class="fa fa-check"></i><b>9.2.3</b> Try a scatter, or dot plot</a></li>
<li class="chapter" data-level="9.2.4" data-path="041-plotly.html"><a href="041-plotly.html#adding-interactivity"><i class="fa fa-check"></i><b>9.2.4</b> Adding interactivity</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="041-plotly.html"><a href="041-plotly.html#adding-animation"><i class="fa fa-check"></i><b>9.3</b> Adding animation</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A02-programming.html"><a href="A02-programming.html"><i class="fa fa-check"></i><b>A</b> A gentle intro to programming</a>
<ul>
<li class="chapter" data-level="A.1" data-path="A02-programming.html"><a href="A02-programming.html#key-takeaways-8"><i class="fa fa-check"></i><b>A.1</b> Key takeaways</a></li>
<li class="chapter" data-level="A.2" data-path="A02-programming.html"><a href="A02-programming.html#building-blocks"><i class="fa fa-check"></i><b>A.2</b> Building blocks</a>
<ul>
<li class="chapter" data-level="" data-path="A02-programming.html"><a href="A02-programming.html#variables-and-objects"><i class="fa fa-check"></i>Variables and objects</a></li>
<li class="chapter" data-level="" data-path="A02-programming.html"><a href="A02-programming.html#operators-assignment"><i class="fa fa-check"></i>Operators &amp; assignment</a></li>
<li class="chapter" data-level="" data-path="A02-programming.html"><a href="A02-programming.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="A02-programming.html"><a href="A02-programming.html#loops"><i class="fa fa-check"></i>Loops</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="A02-programming.html"><a href="A02-programming.html#make-an-omelet-with-a-function"><i class="fa fa-check"></i><b>A.3</b> Make an omelet with a function</a>
<ul>
<li class="chapter" data-level="" data-path="A02-programming.html"><a href="A02-programming.html#open-a-restaurant-with-loops"><i class="fa fa-check"></i>Open a restaurant with loops</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="A02-programming.html"><a href="A02-programming.html#applications"><i class="fa fa-check"></i><b>A.4</b> Applications</a></li>
<li class="chapter" data-level="A.5" data-path="A02-programming.html"><a href="A02-programming.html#more-resources-1"><i class="fa fa-check"></i><b>A.5</b> More resources</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="A01-resources.html"><a href="A01-resources.html"><i class="fa fa-check"></i><b>B</b> Great R Resources</a>
<ul>
<li class="chapter" data-level="B.1" data-path="A01-resources.html"><a href="A01-resources.html#key-takeaways-9"><i class="fa fa-check"></i><b>B.1</b> Key takeaways</a></li>
<li class="chapter" data-level="B.2" data-path="A01-resources.html"><a href="A01-resources.html#coursework-in-r"><i class="fa fa-check"></i><b>B.2</b> Coursework in R</a></li>
<li class="chapter" data-level="B.3" data-path="A01-resources.html"><a href="A01-resources.html#instructional-screencasts-and-videos"><i class="fa fa-check"></i><b>B.3</b> Instructional screencasts and videos</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="A04-murders.html"><a href="A04-murders.html"><i class="fa fa-check"></i><b>C</b> Murder Accountability Project exercises</a>
<ul>
<li class="chapter" data-level="C.1" data-path="A04-murders.html"><a href="A04-murders.html#the-data"><i class="fa fa-check"></i><b>C.1</b> The data</a></li>
<li class="chapter" data-level="C.2" data-path="A04-murders.html"><a href="A04-murders.html#exercises-by-chapter"><i class="fa fa-check"></i><b>C.2</b> Exercises by chapter</a>
<ul>
<li class="chapter" data-level="C.2.1" data-path="A04-murders.html"><a href="A04-murders.html#select-and-filter-exercises"><i class="fa fa-check"></i><b>C.2.1</b> Select and filter exercises</a></li>
<li class="chapter" data-level="C.2.2" data-path="A04-murders.html"><a href="A04-murders.html#group-by-and-summarise"><i class="fa fa-check"></i><b>C.2.2</b> Group by and summarise</a></li>
<li class="chapter" data-level="C.2.3" data-path="A04-murders.html"><a href="A04-murders.html#mutate"><i class="fa fa-check"></i><b>C.2.3</b> Mutate</a></li>
<li class="chapter" data-level="C.2.4" data-path="A04-murders.html"><a href="A04-murders.html#join"><i class="fa fa-check"></i><b>C.2.4</b> Join</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="A04-murders.html"><a href="A04-murders.html#wrap-up-exercise"><i class="fa fa-check"></i><b>C.3</b> Wrap-up exercise</a></li>
<li class="chapter" data-level="C.4" data-path="A04-murders.html"><a href="A04-murders.html#answers-to-exercises"><i class="fa fa-check"></i><b>C.4</b> Answers to exercises</a>
<ul>
<li class="chapter" data-level="C.4.1" data-path="A04-murders.html"><a href="A04-murders.html#select-and-filter"><i class="fa fa-check"></i><b>C.4.1</b> Select and filter</a></li>
<li class="chapter" data-level="C.4.2" data-path="A04-murders.html"><a href="A04-murders.html#group-by"><i class="fa fa-check"></i><b>C.4.2</b> Group by</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Study Guide for Cronkite School of Journalism</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="verbs-part-1-picking-and-choosing" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Verbs Part 1: Picking and choosing</h1>
<div id="key-takeaways-4" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Key takeaways</h2>
<ul>
<li>Verb 1 - <strong>select</strong> to subset the data frame vertically (pick out / rename columns)<br />
</li>
<li>Verb 2 - <strong>filter </strong> to subset the data frame horizontally (pick out rows)</li>
<li>Verb 3 - <strong>arrange</strong> to display the data in a certain order<br />
</li>
<li>Troubleshooting common error messages</li>
</ul>
<p>We’re going to use some standard ways to pick out information from a data frame using verbs: <em>select</em> and <em>filter</em>.</p>
<p style="background-color:#e6f0ff;text-align:center;font-weight:bold;">
Don’t forget to load the tidyverse!
</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="031-select-filter.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>This tutorial uses data that was downloaded in 2019 from the Tempe, Ariz., Open data site. It’s since been removed. It contains a list of opioid-related EMS calls for the city. There was virtually no documentation on the site to explain the variables. (Tempe officials have said that they are planning to republish it with less detail.)</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="031-select-filter.html#cb36-1" aria-hidden="true" tabindex="-1"></a>my_link <span class="ot">&lt;-</span> <span class="st">&quot;https://cronkitedata.github.io/cronkite-docs/assets/data/csv/opioidemscalls.csv&quot;</span></span>
<span id="cb36-2"><a href="031-select-filter.html#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="031-select-filter.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">#use it in a read_csv command</span></span>
<span id="cb36-4"><a href="031-select-filter.html#cb36-4" aria-hidden="true" tabindex="-1"></a>opioid_calls_orig <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(my_link)</span></code></pre></div>
<p>Once read in, the dataset has 650 rows and 21 columns:</p>
<p><img src="images/24-opioid-orig.jpg" /></p>
</div>
<div id="select---choosing-columns" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Select - choosing columns</h2>
<p>In Excel, we never had the opportunity of just pulling little cuts of our data vertically – we could filter the rows, but not the columns.</p>
<p>The “select” verb picks out COLUMNS of your data, and allows you to rename at the same time.</p>
<p style="background-color:#e6f0ff;padding:10px;">
Note that R is <b>case-sensitive</b>, meaning that the variable named <i>Age</i> is not the same thing as the variable named <i>age</i>. This is one reason rename columns using a common pattern – you don’t have to think about it again. It’s also useful to remove spaces and special characters from your column names, which are difficult to reference with them.
</p>
<p>This code chunk selects only some of the variables from our original data frame and saves them in a new data frame:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="031-select-filter.html#cb37-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="ot">&lt;-</span>                                    <span class="co">#create a new data frame, &quot;opioid_calls&quot;</span></span>
<span id="cb37-2"><a href="031-select-filter.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-3"><a href="031-select-filter.html#cb37-3" aria-hidden="true" tabindex="-1"></a>    opioid_calls_orig   <span class="sc">%&gt;%</span>                       <span class="co">#start with the old data frame  and then..</span></span>
<span id="cb37-4"><a href="031-select-filter.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-5"><a href="031-select-filter.html#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span> (<span class="at">id =</span> OBJECTID,                        <span class="co">#pick out only some columns, and change their names at the same time</span></span>
<span id="cb37-6"><a href="031-select-filter.html#cb37-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">incident_date =</span>  IncidentDate,</span>
<span id="cb37-7"><a href="031-select-filter.html#cb37-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">dow =</span> Day_of_Week_Sort, </span>
<span id="cb37-8"><a href="031-select-filter.html#cb37-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">narcan =</span> <span class="st">`</span><span class="at">Narcan/Naloxone Given</span><span class="st">`</span>,       <span class="co">#you have to use back-ticks for special characters</span></span>
<span id="cb37-9"><a href="031-select-filter.html#cb37-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">impression =</span> Primary_Impression, </span>
<span id="cb37-10"><a href="031-select-filter.html#cb37-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">age  =</span> Age,</span>
<span id="cb37-11"><a href="031-select-filter.html#cb37-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">gender =</span> Patient_Gender,</span>
<span id="cb37-12"><a href="031-select-filter.html#cb37-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">asu_yn =</span> Is_ASU_student,</span>
<span id="cb37-13"><a href="031-select-filter.html#cb37-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">vet_yn =</span> Is_Veteran,</span>
<span id="cb37-14"><a href="031-select-filter.html#cb37-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">homeless_yn =</span> Is_Homeles,</span>
<span id="cb37-15"><a href="031-select-filter.html#cb37-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">special_population =</span> Spec_Pop  </span>
<span id="cb37-16"><a href="031-select-filter.html#cb37-16" aria-hidden="true" tabindex="-1"></a>            )</span></code></pre></div>
<p>Here’s what it the first few rows of our selected columns looks like. (It might be chopped of on the right in your browser.)</p>
<table style="width:100%;">
<colgroup>
<col width="2%" />
<col width="11%" />
<col width="8%" />
<col width="5%" />
<col width="27%" />
<col width="6%" />
<col width="5%" />
<col width="5%" />
<col width="5%" />
<col width="8%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">incident_date</th>
<th align="left">dow</th>
<th align="left">narcan</th>
<th align="left">impression</th>
<th align="left">age</th>
<th align="left">gender</th>
<th align="left">asu_yn</th>
<th align="left">vet_yn</th>
<th align="left">homeless_yn</th>
<th align="left">special_population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="left">1/3/2017 11:42</td>
<td align="left">(2) Tuesday</td>
<td align="left">No</td>
<td align="left">Alcohol Intoxication (F10.9)</td>
<td align="left">40 to 44</td>
<td align="left">Female</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">1/9/2017 1:08</td>
<td align="left">(1) Monday</td>
<td align="left">Yes</td>
<td align="left">ALOC (R41.82)</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">1/9/2017 1:55</td>
<td align="left">(1) Monday</td>
<td align="left">No</td>
<td align="left">No Apparent Illness or Injury (Z71.1)</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
<td align="left">No</td>
<td align="left">Yes</td>
<td align="left">Homeless</td>
</tr>
</tbody>
</table>
<div id="selecting-with-shortcuts" class="section level3 unnumbered">
<h3>Selecting with shortcuts</h3>
<p>R has a lot of shortcuts so you don’t have to type as much as in some other languages. You can identify columns by their position in the file, by the kind of data they hold (numbers, characters, etc.), or by the words their names contain. Here’s an example:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="031-select-filter.html#cb38-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="031-select-filter.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span> ( id, </span>
<span id="cb38-3"><a href="031-select-filter.html#cb38-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">weekday =</span> dow,</span>
<span id="cb38-4"><a href="031-select-filter.html#cb38-4" aria-hidden="true" tabindex="-1"></a>           narcan <span class="sc">:</span>  gender,  <span class="co">#vars narcan through gender in the list </span></span>
<span id="cb38-5"><a href="031-select-filter.html#cb38-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">contains</span> (<span class="st">&quot;yn&quot;</span>)    <span class="co"># has &quot;yn&quot; in the name</span></span>
<span id="cb38-6"><a href="031-select-filter.html#cb38-6" aria-hidden="true" tabindex="-1"></a>           <span class="fu">where</span> (is.numeric)</span>
<span id="cb38-7"><a href="031-select-filter.html#cb38-7" aria-hidden="true" tabindex="-1"></a>           ) </span></code></pre></div>
<p>In this example, we’ve selected the columns :</p>
<pre><code>  id
  narcan THROUGH gender in the order they appear in the data frame
  any variable that contains &quot;yn&quot; in its name
  any numerica column</code></pre>
<p>This is super powerful when you get a dataset with tons of columns and you don’t want to have to type out their names. It’s also super powerful when you want to do the same thing to a bunch of similar columns. (We’ll get to that later.)</p>
</div>
</div>
<div id="filter---choosing-rows" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Filter - choosing rows</h2>
<p>*Filter** is the verb you use to choose which rows are included in your output.</p>
<p>Use comparison operators to choose the rows that meet certain conditions. The ones you’ll usually use are:</p>
<pre><code>    ==   equals 
    &gt;    Is more than
    &lt;    Is less than 
    %in%   Is in a list of values
    !=   does NOT equal</code></pre>
<p>Connect them with logical operators, including:</p>
<pre><code>    |    &quot;Or&quot; -- think of it as &quot;this or that&quot;
    &amp;    &quot;And&quot;  -- both things must be true
    </code></pre>
<p><strong>“==” isn’t “=” ! You always need two equals signs for comparison. A single = sign is used to assign something to another value.</strong></p>
<div id="one-filter" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> One filter</h3>
<p>If you don’t create a new data frame using the <code>&lt;-</code> assignment, it will just print out on the screen. Use the “glimpse” verb to take a peek at it vertically in a way the fits on the screen.</p>
<p><img src="images/24-filter-literal.jpg" /></p>
<p>Put the <strong>name of the column</strong> on the left side of the comparison, connect it with <strong>two equal signs</strong>, and put the value you want to look for <strong>in quotes</strong> on the right. The two equal signs means that it must be EXACTLY the same – not sort of the same – including upper and lower case.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="031-select-filter.html#cb42-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="031-select-filter.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (  narcan <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="031-select-filter.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  glimpse  </span></code></pre></div>
<pre><code>## Rows: 370
## Columns: 11
## $ id                 &lt;dbl&gt; 3, 7, 11, 12, 13, 18, 20, 21, 25, 29, 30, 34, 35, 3…
## $ incident_date      &lt;chr&gt; &quot;1/9/2017 1:08&quot;, &quot;1/11/2017 11:10&quot;, &quot;1/14/2017 22:5…
## $ dow                &lt;chr&gt; &quot;(1) Monday&quot;, &quot;(3) Wednesday&quot;, &quot;(6) Saturday&quot;, &quot;(7)…
## $ narcan             &lt;chr&gt; &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Yes&quot;, &quot;Y…
## $ impression         &lt;chr&gt; &quot;ALOC (R41.82)&quot;, &quot;ALOC (R41.82)&quot;, &quot;ALOC (R41.82)&quot;, …
## $ age                &lt;chr&gt; &quot;40 to 44&quot;, &quot;80 to 84&quot;, &quot;35 to 39&quot;, &quot;40 to 44&quot;, &quot;30…
## $ gender             &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Female&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;…
## $ asu_yn             &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Unknown&quot;, &quot;No&quot;, &quot;No&quot;…
## $ vet_yn             &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Unknown&quot;, &quot;No&quot;, &quot;No&quot;…
## $ homeless_yn        &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Unknown&quot;, &quot;No&quot;, &quot;No&quot;…
## $ special_population &lt;chr&gt; &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;No&quot;, &quot;Unknown&quot;, &quot;No&quot;, &quot;No&quot;…</code></pre>
<p>In this case, you know that there were 370 rows that met your condition. It <em>looks</em> right – all of the <code>narcan</code> items that we can see are “Yes”.</p>
</div>
<div id="a-compound-filter" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> A compound filter</h3>
<p>In Excel, you were limited in the way you could filter – each time you picked a value from a column it was additive. That is, if you chose filters from two columns, BOTH had to be true in order to see the result.</p>
<p>When you get to programming languages, you can make much more sophisticated selections using <code>boolean logic</code>, the same thing you use in filtering Google results or other types of searches. The key elements are :</p>
<pre><code>    `&amp;` meaning AND, which  makes your net smaller so fewer fish can get in. 
    `|` meaning OR , which makes your net wider so more fish can get in.  </code></pre>
<p>This can get confusing, since it’s the opposite of the way we speak. When you say, “I want to see apples and oranges”, you translate that into a condition that says, “Give me any row that has either apples OR oranges in the column.”</p>
<p>(You can also reverse it by using <code>!</code> , which means - throw out all the fish I just caught, and keep the trash that got caught in the process.)</p>
<p>You should group your conditions together using parentheses. Here are a few examples:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="031-select-filter.html#cb45-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="031-select-filter.html#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span> (narcan <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;</span> asu_yn <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>) </span></code></pre></div>
<p>… every row including a <code>"Yes"</code> under narcan as well as a “Yes” under <code>asu_yn</code> .</p>
<p>Adding an OR requires putting it in parentheses so that it’s clear what we want. In this case, <strong>either</strong> asu or vets will be returned, but they have to have “narcan” .</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="031-select-filter.html#cb46-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="031-select-filter.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (    narcan <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb46-3"><a href="031-select-filter.html#cb46-3" aria-hidden="true" tabindex="-1"></a>                 (asu_yn <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">|</span> vet_yn <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>  ) </span>
<span id="cb46-4"><a href="031-select-filter.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  )  </span></code></pre></div>
<div id="in-conditions" class="section level4 unnumbered">
<h4>%in% conditions</h4>
<p>Sometimes you have a lot of things from the same column that you want to pick out – the equivalent of picking out things from the list in Excel filters. In that case, use a list that you create and the condition %in%.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="031-select-filter.html#cb47-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="031-select-filter.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (age <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;20 to 24&quot;</span>, <span class="st">&quot;25 to 29&quot;</span>)) </span></code></pre></div>
<p>Some people find this confusing, so we can unpack that.</p>
<ul>
<li>Look at the <code>age</code> column</li>
<li>Create a list with two items, using the <code>c</code> for “combine” operator, with two conditions included.</li>
<li>Use the %in% operator instead of ==</li>
</ul>
<p>This only works if the values are in the same column.</p>
</div>
</div>
</div>
<div id="arrange---change-the-order" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> Arrange - change the order</h2>
<p>“Arrange” is the equivalent of “Sort” in a spreadsheet - it’s more precise in its meaning, and instructs R to re-arrange the rows of a data frame using the order identified in one or more columns. Try to piece together what this does:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="031-select-filter.html#cb48-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="031-select-filter.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span> (dow, narcan, age, gender, asu_yn) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="031-select-filter.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (dow <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;(6) Saturday&quot;</span>, <span class="st">&quot;(7) Sunday&quot;</span>)  <span class="sc">&amp;</span></span>
<span id="cb48-4"><a href="031-select-filter.html#cb48-4" aria-hidden="true" tabindex="-1"></a>            narcan <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-5"><a href="031-select-filter.html#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span> ( age )</span></code></pre></div>
<div class="kable-table">
<table>
<thead>
<tr class="header">
<th align="left">dow</th>
<th align="left">narcan</th>
<th align="left">age</th>
<th align="left">gender</th>
<th align="left">asu_yn</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Male</td>
<td align="left">Yes</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">15 to 19</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">Yes</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">20 to 24</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">25 to 29</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">30 to 34</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Unknown (Unable to Determine)</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">35 to 39</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Male</td>
<td align="left">N/A</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">40 to 44</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">45 to 49</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">50 to 54</td>
<td align="left">N/A</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">50 to 54</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">50 to 54</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">50 to 54</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">50 to 54</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">50 to 54</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">55 to 59</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">55 to 59</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">55 to 59</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">55 to 59</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">60 to 64</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">60 to 64</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">60 to 64</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">60 to 64</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">60 to 64</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">60 to 64</td>
<td align="left">Female</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">65 to 69</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">65 to 69</td>
<td align="left">Male</td>
<td align="left">Unknown</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">70 to 74</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">70 to 74</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">70 to 74</td>
<td align="left">Female</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">75 to 79</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="odd">
<td align="left">(6) Saturday</td>
<td align="left">Yes</td>
<td align="left">80 to 84</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
<tr class="even">
<td align="left">(7) Sunday</td>
<td align="left">Yes</td>
<td align="left">95 to 99</td>
<td align="left">Male</td>
<td align="left">No</td>
</tr>
</tbody>
</table>
</div>
<p>(Reminder: the c() operator makes a list – it combines the two quoted values into a vector.)</p>
</div>
<div id="troubleshooting" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> Troubleshooting</h2>
<div id="importing-or-loading-data" class="section level5" number="5.5.0.0.1">
<h5><span class="header-section-number">5.5.0.0.1</span> Importing or loading data</h5>
<ul>
<li>Have you run the chunk at the top (the one with <code>library(tidyverse)</code>) ? If not, almost nothing that we do will work! I forget this. every. single. time.</li>
<li>Is it in the folder you have specified?</li>
<li>Is the name of the file in quotes? It should be.</li>
<li>Have you assigned it to a new variable using the <code>&lt;-</code> operator?</li>
</ul>
</div>
<div id="variable-not-found" class="section level3" number="5.5.1">
<h3><span class="header-section-number">5.5.1</span> Variable not found</h3>
<div id="r-is-case-sensitive" class="section level4" number="5.5.1.1">
<h4><span class="header-section-number">5.5.1.1</span> R is case-sensitive</h4>
<p>R is always case-sensitive, which means that it makes a difference whether an object, a column name or the value of a variable (like Male) is upper-case, lower-case or some proper case. For example:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="031-select-filter.html#cb49-1" aria-hidden="true" tabindex="-1"></a>opioid_calls <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="031-select-filter.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span> (narcan <span class="sc">==</span> <span class="st">&quot;yes&quot;</span>)</span></code></pre></div>
<div class="kable-table">
<table>
<colgroup>
<col width="3%" />
<col width="14%" />
<col width="4%" />
<col width="7%" />
<col width="11%" />
<col width="4%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="12%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">incident_date</th>
<th align="left">dow</th>
<th align="left">narcan</th>
<th align="left">impression</th>
<th align="left">age</th>
<th align="left">gender</th>
<th align="left">asu_yn</th>
<th align="left">vet_yn</th>
<th align="left">homeless_yn</th>
<th align="left">special_population</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
<p>.. results in 0 cases, because narcan is shown as “Yes”, not as “yes”. Instead, match the case to what you have in your data.</p>
</div>
<div id="equals-versus-double-equals" class="section level4 unnumbered">
<h4>Equals versus double-equals</h4>
<p>You’ll get this weird error if you try to use an equals sign as a comparison operator:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="031-select-filter.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(opioid_calls, <span class="at">narcan =</span> <span class="st">&quot;Yes&quot;</span>)</span></code></pre></div>
<pre><code>## Error: Problem with `filter()` input `..1`.
## x Input `..1` is named.
## ℹ This usually means that you&#39;ve used `=` instead of `==`.
## ℹ Did you mean `narcan == &quot;Yes&quot;`?</code></pre>
<p>If you read it carefully, a the end there’s hint that R is guessing that you meant “==” instead. It won’t always be so kind.</p>
</div>
<div id="forgetting-and-then-operator" class="section level4 unnumbered">
<h4>Forgetting “and then” operator (%&gt;%)</h4>
<p>You also get a weird error if you forget to string together commands with the %&gt;% connector.</p>
<p>A code chunk that looks like this:</p>
<pre><code>  filter (opioid_calls, narcan == &quot;Yes&quot;)
       arrange (dow)</code></pre>
<p>will result in the error that says,</p>
<pre><code>  Error in arrange(dow) : object &#39;dow&#39; not found
  </code></pre>
<p>It doesn’t make much sense, except it’s telling you that it is no longer finding a field called <em>dow</em>. It’s done the filter and thinks it was finished because there was no AND THEN connector. Then it tries to run another command, but it’s starting from scratch without a data frame to work from.</p>
<p>This is really common and a pain. R thought you had TWO things you wanted to do – one is just the filter, the other is an error. The fix is to put the %&gt;% after the filter.</p>
</div>
<div id="spelling" class="section level4" number="5.5.1.2">
<h4><span class="header-section-number">5.5.1.2</span> Spelling</h4>
<p>Everything has to be spelled the way R expects it to be, not the way it should be. If a variable name is misspelled, it has to be misspelled every time you use it until you change the name.</p>
</div>
<div id="spelling-1" class="section level4" number="5.5.1.3">
<h4><span class="header-section-number">5.5.1.3</span> Spelling</h4>
<p>Just again. Spelling.</p>
</div>
<div id="the-dreaded-na" class="section level4 unnumbered">
<h4>The dreaded NA</h4>
<p>Missing information is recorded in R as <code>NA</code>. The problem is, this isn’t a value at all – it will never match anything, will never be bigger or smaller than anything, and will be ignored if you sort on it. We’ll come back to this, but just remember that it’s a problem.</p>
</div>
</div>
</div>
<div id="sort-filter-resources" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> Sort / filter resources</h2>
<div id="exercises-1" class="section level3" number="5.6.1">
<h3><span class="header-section-number">5.6.1</span> Exercises</h3>
<p>In “<a href="https://www.newyorker.com/magazine/2017/11/27/the-serial-killer-detector">The Serial Killer Detector</a>”, Tom Hargrove spent years creating more complete murder data than the government has available. I have taken the data from that project and converted it into an R data object that includes only murders in the West. The appendix to this book has exercises using that data using skills that were outlined in each chapter.</p>
</div>
<div id="tutorials" class="section level3" number="5.6.2">
<h3><span class="header-section-number">5.6.2</span> Tutorials</h3>
<p>Most tutorials on this topic go through all of the basic verbs, including some you haven’t seen yet (such as group_by, summarise and mutate). They all go together, but we’ll be doing them a little at a time. Don’t worry if these resources touch on things you don’t know yet.</p>
<ul>
<li>“<a href="https://teachingr.com/">Teaching R</a>” videos. They’re a little more detailed than we need, but it’s a useful review of most of what we’ve done.</li>
<li>Andrew Ba Tran’s “<a href="https://learn.r-journalism.com/en/wrangling/">Lesson 3: Wrangling data</a>” from the R for Journalists (learn-r) website. You can watch the videos and take the quizzes without following along on your computer.</li>
<li>Matt Waite’s <a href="http://mattwaite.github.io/sports/filters-and-selections.html">chapter on filters</a> – note that it has a verb we haven’t looked at yet, called “mutate”</li>
<li>Data School “<a href="https://www.dataschool.io/dplyr-tutorial-for-faster-data-manipulation-in-r/">Faster data maipulation with dplyr</a>”, which is a little more in-depth than we need but is easy to follow.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="030-intro-verbs.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="033-groupby.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["twitter", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toc_depth": 2
});
});
</script>

</body>

</html>
