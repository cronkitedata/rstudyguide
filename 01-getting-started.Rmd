# R an R Studio tour

<blockquote>
“In every project you have at least one other collaborator: future-you. You don’t want future-you to curse past-you.” - Hadley Wickham
</blockquote>

## Key takeaways

* How to get access to R and R Studio either in the cloud or on your own computer, or both
* R is a programming language, and R Studio is a way of interacting with the programming language
* What the Console is
* How to create a variable from scratch, including a vector (list), a number, or text
* How to install a package and how to invoke it



## Why program?

All programming languages have one thing in common: You write instructions, called algorithms, and the program executes your statements in order. You might need to use a mouse, but the instructions are done without much interaction on your part. It means you can do more complicated work in computer programming than in point-and-click parts of Excel. 

It can also scale -- you can repeat your instructions millions of times, tweak it a little, and re-run the program without messing anything else up.

Some common programming languages used in journalism are:

* Structured Query Language, or SQL. We usually teach data journalism using this language, which is the standard language for creating, updating and querying very large and complicated databases in business. Banks run on SQL. So do human resources departments. You should know it exists, and you may even want to learn it at some point. The basics are easy. But the main functions that we use in SQL are available in R: filtering, grouping, sorting and joining are all implemented in R.

* Python and some frameworks to work with it. Python is a relatively simple program to use, is very intuitive, and is in widespread use throughout industry and on the business side of journalism organizations. It's much easier to scrape a website with Python than with R. It's also well-suited to building entire data-driven websites, through the use of frameworks. (Two examples are Django and Flask)

* Ruby and the framework called Rails. Ruby is best known as a language suited for building responsive Web sites.

### Why R?

* It's become the de facto tool for statistical and data analysis in many newsrooms and in academic settings. (Python remains popular for corporate and production-related uses.)
* Some news data teams will not consider an intern who has had zero experience with R. It doesn't need to be a lot, but some familiarity is required or highly valued.
* There is an enormous user base. The only trick is to search on "RStats" rather than R when you're looking for answers.
* It has some of the most robust exploratory graphics.
* It is free. As in beer and as in speech.


## Setting up R and R Studio 

### RStudio Cloud

The easiest way to get set up in R is to open a [free account on RStudio Cloud](https://rstudio.cloud) It runs just the way it works on your laptop, but can be a little slow. Just be sure to **save often** , as it's easy to forget to save your code, and it can crash every once in a while. If you use very large files -- usually files that contain images or maps -- you may outpace your allocated workspace, but by then you should be more comfortable with the platform. 

### Install yourself

If you want to install on your laptop, try these steps. 

#### MAC USERS: Install command line tools for Mac**

This is a pain, but it only has to happen once. There are some things that won't work if you skip this step.

In your terminal (found under Utilities in the Applications folder), type:

    xcode-select --install

You'll get an error message saying that it can't be done because you don't have command line tools, and would you  like to install them now? Say yes. Once it's done, just close out your terminal. You never really wanted the thing that you asked to install in the first place.

#### EVERYONE
* Install [R for your computer](https://rweb.crmda.ku.edu/cran/). Use the most recent binaries for your operating system. 
* Install [R Studio Desktop](https://www.rstudio.com/products/rstudio/download/#download) for your computer ONLY AFTER YOU HAVE INSTALLED R. Use the free community version.


### An R Studio tour

We'll be interacting with R using R Studio, which is a simple way to see all of the different pieces of any project.

### The Console

The Console is where you can type commands. Try it.

![console](images/21-rintro-rstudio.png)

    5+5           #when you type this
    [1] 10        #this is what you get back

    "Sarah"       #when you type this
    [1] "Sarah"   #this is what you get back

The console just gives you the answer from your latest command.

We will do very little in the console, but it's a good place to test little commands that you aren't sure of.


### Packages

Packages in R are just what they sound like -- packages of programs that users have found useful to extend the base R language. R is almost useless without them.

As a general rule of thumb: 

* Install packages using the console. They must be installed once on every computer, or in every project when you use RStudio Cloud. 
* Then activate them using the library() command in  your program. 

For this class, the packages you must have installed are:

       install.packages("tidyverse")
       install.packages("rmarkdown")

* For a first look at R, we'll want to install the Swirl package as well:

      install.packages("swirl")


### Work in projects

The easiest way to keep yourself organized is to work in R Studio projects rather than individual files. This means you don't have to worry about what directories or folders your computer thinks you are using at any one time, and creates a compact package. If you're using RStudio.cloud, every project is already self-contained.

Instead of creating a new file when you start R, create a new project, and tell R where to put the directory when prompted.  

Then, when you want to return to the project, open the project rather than a file: 

![save as](images/21-rintro-project-open.png)


### Error messages

The hardeset part of R is getting used to the error messages. Here's an example: 

```{r error=TRUE}

5 + "three"

```

This is saying that you're trying to use a number and text in the same phrase. 

When you get into R Markdown documents, you'll see a few other common errors and ways to troubleshoot them. For now, you can Google the specific error message ("non-numeric argument ...")  . Be sure if you ask for help to describe 

1. What you were trying to do
2. The code you used to do it.
3. The specific error message.


## Resources and exercises

### Take the swirl() tutorial

If you haven't done it already, install the swirl() package, and activate it using the library(swirl) command. Do this in the Console:

        install.packages("swirl")


Once it's installed, you need to activate the package and invoke the program every time you want to use it in a new session: 

        library(swirl)
        swirl()
        
Then just follow the prompts. Don't worry that they're red -- it doesn't mean there's anything wrong. It's just trying to distinguish what you typed from what it replied. You only want the first chapterl, "1: R Programming: The basics of programming in R", then just the first lesson, called "Basic Building Blocks".  At the end, just hit the escape key.


### Programming concepts

* The [Intro to coding](https://cronkitedata.github.io/cronkite-docs/general/06-programming-concepts.html) from our course website.
* The [Data types and tidy data](https://cronkitedata.github.io/cronkite-docs/excel/xlguides/xl-tidydata.html) section of our Excel training.
* "[Beyond Binary](https://youtu.be/7MUErafri48), Lesson 1 from a Google engineer's drag queen persona named Anna Lytical. This video gives you a good handle on what a computer program does. 

### R and R Studio
* Introduction and "Getting started" chapters of Sharon Machlis' [Practical R for Mass Communications and Journalism](http://www.machlis.com/R4Journalists/index.html)





